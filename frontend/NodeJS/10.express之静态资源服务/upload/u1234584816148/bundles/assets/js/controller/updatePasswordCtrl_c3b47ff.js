define("bundles/assets/js/controller/updatePasswordCtrl",["bundles/assets/js/app","bundles/plugins/formvalidator/formvalidator.min","bundles/plugins/slider-captcha/slidercaptcha.min","bundles/assets/js/controller/baseCtrl","bundles/assets/js/service/userService"],function(t,e,r){return require("bundles/assets/js/controller/baseCtrl"),require("bundles/assets/js/service/userService"),t.controller("updatePasswordCtrl",["$scope","$controller","$window","$timeout","userService",function(t,s,a,o,n){angular.extend(this,s("baseCtrl",{$scope:t})),t.update=function(){t.btnLoading=!0,e.validform(function(){n.updatePassword(t.form).then(function(){t.success=!0},function(e){t.errormsg=e.msg,o(function(){t.errormsg=void 0},3e3),t.btnLoading=!1})},function(){t.btnLoading=!1})};var l=[{validator:{autotip:!0,group:[{type:"notEmpty",errormsg:"请输入你的原始密码."},{type:"matches",extra_arg1:/^\S{6,20}$/,errormsg:"密码不符合要求."}]},balloon:{tiptext:[{text:"请输入你的原始密码"}]}},{validator:{autotip:!0,group:[{type:"notEmpty",errormsg:"设置你的新密码."},{type:"matches",extra_arg1:/^\S{6,20}$/,errormsg:"密码不符合要求."},{type:"notequalto",extra_arg1:"oldpassword",errormsg:"原始密码不能和新密码一样，请重新输入."}]},balloon:{tiptext:[{text:"必须为6-20个字符"},{text:"可以包含任何非空白字符"}]}},{validator:{autotip:!0,group:[{type:"notEmpty",errormsg:"请再次输入你的密码."},{type:"equalto",extra_arg1:"password",errormsg:"两次输入的密码不一致，请重新输入."}]},balloon:{tiptext:[{text:"请再次输入你的密码"}]}}];t.disableState=!0,angular.element(document).ready(function(){new r({id:"slidercaptcha",success_callback:function(){t.$apply(function(){t.disableState=!1})}});e.manualStartUp(document.getElementsByClassName("form-validator-watch"),l)})}])});