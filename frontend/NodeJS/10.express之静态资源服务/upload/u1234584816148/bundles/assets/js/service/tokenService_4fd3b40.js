define("bundles/assets/js/service/tokenService",["bundles/assets/js/app","bundles/assets/js/service/apiUriService"],function(e){return require("bundles/assets/js/service/apiUriService"),e.factory("tokenService",["$http","$q","apiUriService",function(e,t,n){var r={};return r.getTokenByPassword=function(r){r.grant_type="password";var o=t.defer();return e({method:"post",url:n.authorization.token,data:r,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},transformRequest:function(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}}).then(function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise},r.getTokenByClientCredentials=function(r){r.grant_type="client_credentials";var o=t.defer();return e({method:"post",url:n.authorization.token,data:r,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},transformRequest:function(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}}).then(function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise},r.getTokenByTicket=function(r){var o=t.defer();return e({method:"post",contentType:"application/json",url:n.authorization.generate_token,headers:{ticket:r}}).then(function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise},r.refresh_token=function(r){var o=t.defer();return e({method:"post",url:n.authorization.refresh_token,data:{grant_type:"refresh_token",refresh_token:r},headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},transformRequest:function(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}}).then(function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise},r.verify_token=function(){var r=t.defer();return e({method:"post",contentType:"application/json",url:n.authorization.verify_token}).then(function(e){0==e.data.status?r.resolve(e.data.data):r.reject({status:e.data.status,msg:e.data.message})},function(e){r.reject(e)}),r.promise},r.ticket=function(r){var o=t.defer();return e({method:"post",contentType:"application/json",url:n.authorization.ticket_token,headers:{refresh_token:r}}).then(function(e){0==e.data.status?o.resolve(e.data.data):o.reject({status:e.data.status,msg:e.data.message})},function(e){o.reject(e)}),o.promise},r.clearticket=function(r){var o=t.defer();return e({method:"post",contentType:"application/json",url:n.authorization.clearticket_token,headers:{ticket:r}}).then(function(e){0==e.data.status?o.resolve(e.data.data):o.reject({status:e.data.status,msg:e.data.message})},function(e){o.reject(e)}),o.promise},r}])});